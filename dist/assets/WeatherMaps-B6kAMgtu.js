import{r as p,j as e,d as u}from"./index-XpAxGWCN.js";const h=({currentWeather:s,theme:t})=>{const[i,c]=p.useState("precipitation"),[x,d]=p.useState(!1),n={precipitation:{icon:"üåßÔ∏è",title:"Precipitazioni",desc:"Radar pioggia",layer:"precipitation_new"},clouds:{icon:"‚òÅÔ∏è",title:"Nuvolosit√†",desc:"Copertura nuvolosa",layer:"clouds_new"},temperature:{icon:"üå°Ô∏è",title:"Temperature",desc:"Mappa termica",layer:"temp_new"},wind:{icon:"üí®",title:"Vento",desc:"Velocit√† e direzione",layer:"wind_new"},pressure:{icon:"üìä",title:"Pressione",desc:"Pressione atmosferica",layer:"pressure_new"}},g=o=>{const a=u.API_KEY,r=s?.coord?.lat||45.4642,f=s?.coord?.lon||9.19,l=6,y=Math.floor((f+180)/360*Math.pow(2,l)),m=Math.floor((1-Math.log(Math.tan(r*Math.PI/180)+1/Math.cos(r*Math.PI/180))/Math.PI)/2*Math.pow(2,l));return`https://tile.openweathermap.org/map/${n[o].layer}/${l}/${y}/${m}.png?appid=${a}`};return e.jsxs("div",{style:{background:t?.cardBg||"#ffffff",borderRadius:"20px",padding:"30px",textAlign:"center",border:`1px solid ${t?.cardBorder||"#e0e0e0"}`,marginBottom:"20px",color:t?.textPrimary||"#000000"},children:[e.jsx("div",{style:{fontSize:"64px",marginBottom:"20px"},children:"üó∫Ô∏è"}),e.jsx("h2",{style:{color:t?.textPrimary||"#000000",marginBottom:"16px",fontSize:"24px"},children:"Mappe Meteorologiche"}),e.jsx("p",{style:{color:t?.textSecondary||"#666666",marginBottom:"24px",fontSize:"16px",lineHeight:"1.5"},children:"Visualizza le condizioni meteorologiche in tempo reale con mappe interattive"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"24px"},children:Object.entries(n).map(([o,a])=>e.jsxs("button",{onClick:()=>{c(o),d(!0)},style:{background:i===o?t?.primary||"#2196F3":t?.buttonBg||"#f5f5f5",color:i===o?"white":t?.textPrimary||"#000000",border:`2px solid ${i===o?t?.primary||"#2196F3":t?.cardBorder||"#e0e0e0"}`,borderRadius:"12px",padding:"20px",textAlign:"center",cursor:"pointer",transition:"all 0.3s ease",transform:i===o?"scale(1.05)":"scale(1)",boxShadow:i===o?"0 4px 12px rgba(33, 150, 243, 0.3)":"none"},onMouseOver:r=>{i!==o&&(r.target.style.transform="scale(1.02)",r.target.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)")},onMouseOut:r=>{i!==o&&(r.target.style.transform="scale(1)",r.target.style.boxShadow="none")},children:[e.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:a.icon}),e.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:a.title}),e.jsx("div",{style:{fontSize:"12px",opacity:.8},children:a.desc})]},o))}),x&&e.jsxs("div",{style:{marginBottom:"24px",background:t?.buttonBg||"#f5f5f5",borderRadius:"12px",padding:"20px",border:`1px solid ${t?.cardBorder||"#e0e0e0"}`},children:[e.jsxs("h3",{style:{color:t?.textPrimary||"#000000",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[n[i].icon," ",n[i].title]}),e.jsxs("div",{style:{position:"relative",height:"400px",borderRadius:"8px",overflow:"hidden",background:"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx("img",{src:g(i),alt:`Mappa ${n[i].title}`,style:{width:"100%",height:"100%",objectFit:"cover"},onError:o=>{o.target.style.display="none",o.target.nextSibling.style.display="flex"}}),e.jsxs("div",{style:{display:"none",flexDirection:"column",alignItems:"center",justifyContent:"center",color:t?.textSecondary||"#666666"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"‚ö†Ô∏è"}),e.jsx("div",{children:"Impossibile caricare la mappa"}),e.jsx("div",{style:{fontSize:"12px",marginTop:"8px"},children:"Verifica la connessione internet"})]})]}),e.jsx("button",{onClick:()=>d(!1),style:{marginTop:"16px",padding:"8px 16px",background:t?.buttonBg||"#f5f5f5",border:`1px solid ${t?.cardBorder||"#e0e0e0"}`,borderRadius:"6px",cursor:"pointer",color:t?.textPrimary||"#000000"},children:"‚úï Chiudi mappa"})]}),e.jsxs("div",{style:{background:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)",borderRadius:"12px",padding:"20px",marginBottom:"16px"},children:[e.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"‚úÖ"}),e.jsx("div",{style:{fontWeight:"bold",color:t?.textPrimary||"#000000",marginBottom:"4px"},children:"Componente Mappe Caricato"}),e.jsxs("div",{style:{fontSize:"14px",color:t?.textSecondary||"#666666"},children:["Sistema operativo ‚Ä¢ Tema: ",t?"Attivo":"Non disponibile"]})]}),s&&e.jsxs("div",{style:{background:t?.buttonBg||"#f5f5f5",border:`1px solid ${t?.cardBorder||"#e0e0e0"}`,borderRadius:"8px",padding:"12px",fontSize:"14px",color:t?.textSecondary||"#666666"},children:["üìç Posizione: ",s.name||"Non disponibile"]})]})};export{h as default};
