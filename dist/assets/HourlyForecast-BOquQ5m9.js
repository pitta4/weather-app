import{r as v,j as t}from"./index-Lne3yX_f.js";const B=({hourlyData:a,theme:i,currentWeather:g})=>{const[l,u]=v.useState("today"),[d,S]=v.useState({});if(!a||a.length===0)return t.jsxs("div",{style:{background:i.cardBg,backdropFilter:"blur(10px)",borderRadius:"20px",padding:"30px",textAlign:"center",border:`1px solid ${i.cardBorder}`,marginBottom:"20px"},children:[t.jsx("div",{style:{fontSize:"32px",marginBottom:"12px"},children:"⏰"}),t.jsx("h3",{style:{color:i.textPrimary,marginBottom:"8px"},children:"Previsioni Orarie Non Disponibili"}),t.jsx("p",{style:{color:i.textSecondary,fontSize:"14px"},children:"Cerca una città per vedere le previsioni ora per ora"})]});const x=(()=>{const e={},r=new Date().toDateString(),s=new Date(Date.now()+24*60*60*1e3).toDateString();return a.forEach(b=>{const j=new Date(b.datetime),m=j.toDateString();let n;m===r?n="Oggi":m===s?n="Domani":n=j.toLocaleDateString("it-IT",{weekday:"long",day:"numeric",month:"short"}),e[n]||(e[n]=[]),e[n].push(b)}),e})(),p=Object.keys(x),o=x[l]||x[p[0]]||[],y=e=>{S(r=>({...r,[e]:!r[e]}))},f=e=>e>=30?"#ff4444":e>=25?"#ff8800":e>=20?"#ffbb00":e>=15?"#88dd00":e>=10?"#00bbff":e>=5?"#0088ff":"#0044ff",c=e=>e>=80?{text:"Molto probabile",color:"#ff4444"}:e>=60?{text:"Probabile",color:"#ff8800"}:e>=40?{text:"Possibile",color:"#ffbb00"}:e>=20?{text:"Poco probabile",color:"#88dd00"}:{text:"Improbabile",color:"#00bbff"};return t.jsxs("div",{style:{background:i.cardBg,backdropFilter:"blur(10px)",borderRadius:"20px",padding:"20px",marginBottom:"20px",border:`1px solid ${i.cardBorder}`},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",color:i.textPrimary,margin:0,display:"flex",alignItems:"center",gap:"8px"},children:"⏰ Previsioni Orarie"}),t.jsxs("p",{style:{color:i.textSecondary,fontSize:"14px",margin:"4px 0 0 0"},children:[g?`${g.location} • `:"","Prossime 24 ore con dettagli completi"]})]}),t.jsx("div",{style:{background:i.buttonBg,borderRadius:"8px",padding:"8px",border:`1px solid ${i.cardBorder}`},children:t.jsxs("div",{style:{color:i.textPrimary,fontSize:"12px",fontWeight:"bold"},children:[o.length," ore disponibili"]})})]}),p.length>1&&t.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",flexWrap:"wrap"},children:p.map(e=>t.jsxs("button",{onClick:()=>u(e),style:{padding:"8px 16px",background:l===e?i.buttonHover:i.buttonBg,border:`1px solid ${l===e?"#4CAF50":i.cardBorder}`,borderRadius:"8px",color:i.textPrimary,fontSize:"14px",fontWeight:l===e?"bold":"normal",cursor:"pointer",transition:"all 0.2s"},children:[e,t.jsxs("span",{style:{marginLeft:"6px",color:i.textTertiary,fontSize:"12px"},children:["(",x[e].length,"h)"]})]},e))}),t.jsx("div",{style:{overflowX:"auto",marginBottom:"20px",paddingBottom:"10px"},children:t.jsx("div",{style:{display:"flex",gap:"12px",minWidth:"fit-content",paddingBottom:"8px"},children:o.map((e,r)=>t.jsxs("div",{style:{minWidth:"100px",background:i.buttonBg,borderRadius:"12px",padding:"12px 8px",textAlign:"center",border:`1px solid ${i.cardBorder}`,cursor:"pointer",transition:"all 0.2s",position:"relative"},onClick:()=>y(r),onMouseEnter:s=>s.target.style.transform="translateY(-2px)",onMouseLeave:s=>s.target.style.transform="translateY(0)",children:[t.jsx("div",{style:{color:i.textPrimary,fontSize:"14px",fontWeight:"bold",marginBottom:"8px"},children:e.time}),t.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:e.icon}),t.jsxs("div",{style:{color:f(e.temperature),fontSize:"16px",fontWeight:"bold",marginBottom:"4px"},children:[e.temperature,"°"]}),e.pop>20&&t.jsxs("div",{style:{color:c(e.pop).color,fontSize:"10px",marginBottom:"4px"},children:["💧 ",e.pop,"%"]}),t.jsxs("div",{style:{color:i.textTertiary,fontSize:"10px"},children:["💨 ",e.wind_speed]}),t.jsx("div",{style:{position:"absolute",bottom:"4px",right:"4px",color:i.textTertiary,fontSize:"8px"},children:d[r]?"▲":"▼"})]},r))})}),Object.keys(d).some(e=>d[e])&&t.jsxs("div",{style:{background:i.buttonBg,borderRadius:"12px",padding:"16px",border:`1px solid ${i.cardBorder}`},children:[t.jsx("h4",{style:{color:i.textPrimary,fontSize:"16px",fontWeight:"bold",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:"📊 Dettagli Orari Selezionati"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:o.map((e,r)=>d[r]&&t.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",padding:"12px",border:`1px solid ${i.cardBorder}`},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("span",{style:{fontSize:"20px"},children:e.icon}),t.jsxs("div",{children:[t.jsx("div",{style:{color:i.textPrimary,fontSize:"16px",fontWeight:"bold"},children:e.time}),t.jsx("div",{style:{color:i.textSecondary,fontSize:"12px"},children:e.description})]})]}),t.jsx("button",{onClick:()=>y(r),style:{background:"none",border:"none",color:i.textTertiary,cursor:"pointer",fontSize:"16px"},children:"✕"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px"},children:[t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{color:i.textTertiary,fontSize:"12px",marginBottom:"4px"},children:"🌡️ Temperatura"}),t.jsxs("div",{style:{color:f(e.temperature),fontSize:"18px",fontWeight:"bold"},children:[e.temperature,"°"]}),t.jsxs("div",{style:{color:i.textTertiary,fontSize:"10px"},children:["Percepita ",e.feels_like,"°"]})]}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{color:i.textTertiary,fontSize:"12px",marginBottom:"4px"},children:"💧 Precipitazioni"}),t.jsxs("div",{style:{color:c(e.pop).color,fontSize:"18px",fontWeight:"bold"},children:[e.pop,"%"]}),t.jsx("div",{style:{color:i.textTertiary,fontSize:"10px"},children:c(e.pop).text})]}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{color:i.textTertiary,fontSize:"12px",marginBottom:"4px"},children:"💨 Vento"}),t.jsx("div",{style:{color:i.textPrimary,fontSize:"18px",fontWeight:"bold"},children:e.wind_speed}),t.jsx("div",{style:{color:i.textTertiary,fontSize:"10px"},children:"km/h"})]}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{color:i.textTertiary,fontSize:"12px",marginBottom:"4px"},children:"💧 Umidità"}),t.jsxs("div",{style:{color:i.textPrimary,fontSize:"18px",fontWeight:"bold"},children:[e.humidity,"%"]})]}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{color:i.textTertiary,fontSize:"12px",marginBottom:"4px"},children:"☁️ Nuvolosità"}),t.jsxs("div",{style:{color:i.textPrimary,fontSize:"18px",fontWeight:"bold"},children:[e.clouds,"%"]})]}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{color:i.textTertiary,fontSize:"12px",marginBottom:"4px"},children:"📊 Pressione"}),t.jsx("div",{style:{color:i.textPrimary,fontSize:"18px",fontWeight:"bold"},children:e.pressure}),t.jsx("div",{style:{color:i.textTertiary,fontSize:"10px"},children:"hPa"})]})]})]},r))})]}),t.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(74, 144, 226, 0.1)",borderRadius:"8px",border:"1px solid rgba(74, 144, 226, 0.2)"},children:[t.jsxs("div",{style:{color:i.textPrimary,fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[t.jsx("span",{children:"📈"}),t.jsxs("span",{style:{fontWeight:"bold"},children:["Riepilogo ",l]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"8px",fontSize:"12px",color:i.textSecondary},children:[t.jsxs("div",{children:["🌡️ Max: ",Math.max(...o.map(e=>e.temperature)),"°"]}),t.jsxs("div",{children:["🌡️ Min: ",Math.min(...o.map(e=>e.temperature)),"°"]}),t.jsxs("div",{children:["💧 Max pioggia: ",Math.max(...o.map(e=>e.pop)),"%"]}),t.jsxs("div",{children:["💨 Vento max: ",Math.max(...o.map(e=>e.wind_speed))," km/h"]})]})]})]})};export{B as default};
